<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì† í•© ë§ì¶”ê¸° ê²Œì„</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 50px; }
        input, button { font-size: 20px; margin: 10px; padding: 10px; }
        #numberDisplay { display: none; } /* ìˆ«ì ìˆ¨ê¸°ê¸° */
    </style>
</head>
<body>
    <h1>ì—°ì† í•© ë§ì¶”ê¸° ê²Œì„</h1>
    <p><strong>ê²Œì„ ë£°:</strong><br>
        1. ì²˜ìŒì— ëœë¤í•œ ìˆ«ì ë‘ ê°œê°€ ë¶ˆë¦½ë‹ˆë‹¤.<br>
        2. ë‘ ìˆ«ìì˜ í•©ì„ ì…ë ¥í•˜ì„¸ìš”.<br>
        3. ì •ë‹µì„ ë§íˆë©´ ìƒˆë¡œìš´ ìˆ«ìê°€ ë¶ˆë¦½ë‹ˆë‹¤.<br>
        4. ì§ì „ì— ë¶ˆë €ë˜ ìˆ«ìì™€ í•©ì„ ì…ë ¥í•˜ì„¸ìš”.<br>
        5. ì´ 7ë²ˆ ì •ë‹µì„ ë§íˆë©´ ê²Œì„ í´ë¦¬ì–´! ğŸ‰
    </p><br>
    <button onclick="startGame()">ê²Œì„ ì‹œì‘</button>
    <p id="numberDisplay"></p>
    <p></p>
    <input type="number" id="userInput" placeholder="ì •ë‹µ ì…ë ¥">
    <button onclick="checkAnswer()">í™•ì¸</button>
    <p id="result"></p>
    <p id="history"></p> <!-- ìˆ«ì ê¸°ë¡ ì¶œë ¥ -->
    
    <script>
        let sequence = [];
        let step = 0;
        let maxSteps = 7;

        function getRandomNumber() {
            return Math.floor(Math.random() * 9) + 1; // 1~9 ì‚¬ì´ ëœë¤ ìˆ«ì
        }

        function startGame() {
            sequence = [getRandomNumber(), getRandomNumber()];
            step = 0;
            document.getElementById("userInput").value = "";
            document.getElementById("result").innerText = "";
            document.getElementById("history").innerText = "";
            speakNumbers(sequence[0], sequence[1]);
        }

        function speakNumbers(...nums) {
            let speechText = nums.join(" ê·¸ë¦¬ê³  ");
            let speech = new SpeechSynthesisUtterance(speechText);
            speech.lang = "ko-KR";
            speech.rate = 0.8;
            window.speechSynthesis.speak(speech);
            document.getElementById("numberDisplay").innerText = speechText;
        }

        function checkAnswer() {
            let userAnswer = parseInt(document.getElementById("userInput").value);
            let correctAnswer = sequence[step] + sequence[step + 1];
            
            if (userAnswer === correctAnswer) {
                step++;
                if (step >= maxSteps) {
                    document.getElementById("result").innerText = "ê²Œì„ í´ë¦¬ì–´! ğŸ‰";
                    displayHistory();
                    return;
                }
                
                let newNumber = getRandomNumber();
                sequence.push(newNumber);
                speakNumbers(newNumber);
                document.getElementById("userInput").value = "";
            } else {
                document.getElementById("result").innerText = "í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”!";
                displayHistory();
            }
        }

        function displayHistory() {
            document.getElementById("history").innerText = "ë¶ˆë €ë˜ ìˆ«ì: " + sequence.join(", ");
        }
    </script>
</body>
</html>
